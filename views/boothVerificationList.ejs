<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
  <title>Document</title>
</head>

<body style="padding:5%;background: -webkit-linear-gradient(bottom, #F5F7FA, #B8C6DB) !important;min-height: 900px;">
  <!--<link rel="stylesheet" href="./CSS/survey.css">
-->
  <div class="container">
    <% if (locals.message) { %>
    <h5 style="color:rgb(39, 120, 3)"><%-locals.message %></h5>
    <% } %>
    <div id="card">
      <div id="card-title">
        <h2>Booth Verification</h2>
        <div class="underline-title"></div>
      </div>
      <div id="card-body">
        <div class="">
          <form class="form" method="POST" id="bvform" action="/boothVerificationListV1">
            <div class="form-group">
              <label for="booth">Ward</label>
              <select class="form-control" id="ward" name="ward" onchange="addbooths()" required>
                <option value="">--None--</option>
                <option value="W10">W10</option>
                <option value="W11">W11</option>
                <option value="W13">W13</option>
                <option value="W15">W15</option>
                <option value="W25">W25</option>
                <option value="W31">W31</option>
                <option value="W32">W32</option>
                <option value="W33">W33</option>
                <option value="W34">W34</option>
                <option value="W17">W17</option>
                <option value="W18">W18</option>
              </select>
            </div>
            <div class="form-group">
              <label for="booth">Booth</label>
              <select class="form-control" id="booth" name="booth" required onchange="document.getElementById('function').value='';">
                <option value="">--None--</option>
              </select>
            </div>
            <div class="form-group">
              <label for="name">Name</label>
              <input type="text" class="form-control" id="name" name="name" required>
            </div>
            <div class="form-group">
              <label for="contact">Contact Number</label>
              <input type="number" class="form-control" id="contact" name="contact">
            </div>
            <div class="form-group">
              <label for="govtID">Government Photo ID:</label>
              <input type="text" class="form-control" id="govtID" name="govtID">
            </div>
            <div class="form-group">
              <label for="function">Function:</label>
              <select class="form-control" id="function" name="function" required onchange="genUserID()">
                <option value="">--None--</option>
                <option value="Booth Adhyaksh">Booth Adhyaksh</option>
                <option value="General Secretary">General Secretary</option>
                <option value="Booth Agent">Booth Agent</option>
                <option value="BLA-2">BLA-2</option>
                <option value="Mahila Member">Mahila Member</option>
                <option value="SC">SC</option>
                <option value="ST">ST</option>
                <option value="OBC">OBC</option>
                <option value="Committee member">Committee member</option>
              </select>
            </div>
            <div class="form-group">
              <label for="age">Age</label>
              <input type="text" class="form-control" id="age" placeholder="35" name="age">
            </div>
        </div>
        <div class="form-group">
          <label for="party">Gender</label>
          <select class="form-control" id="gender" name="gender">
            <option value="">--None--</option>
            <option value="Male">Male</option>
            <option value="Female">Female</option>
            <option value="Other">Other</option>
          </select>
        </div>
        <div class="form-group">
          <label for="religion">Religion </label>
          <select class="form-control" id="religion" name="religion">
            <option value="">--None--</option>
            <option value="Hindu">Hindu</option>
            <option value="Muslim">Muslim</option>
            <option value="Christian">Christian</option>
            <option value="Sikh">Sikh</option>
            <option value="Other">Other</option>
          </select>
        </div>
        <div class="form-group">
          <label for="caste">Caste </label>
          <select class="form-control" id="caste" name="caste">
            <option value="">--None--</option>
            <option value="General">General</option>
            <option value="SC">SC</option>
            <option value="ST">ST</option>
            <option value="OBC">OBC</option>
            <option value="Other">Other</option>
          </select>
        </div>
        <div class="form-group">
          <label for="subcaste">Sub-Caste</label>
          <input type="text" class="form-control" id="subcaste" name="subcaste">
        </div>
        <div class="form-group">
          <label for="emailID">Email Address</label>
          <input type="email" class="form-control" id="emailID" name="emailID">
        </div>
        <div class="form-group">
          <label for="Education">Education</label>
          <input type="text" class="form-control" id="Education" name="Education">
        </div>
        <div class="form-group">
          <label for="profession">Profession</label>
          <input type="text" class="form-control" id="profession" name="profession">
        </div>
        <div class="form-group">
          <label for="address">Address</label>
          <textarea id='address' name='address' class="form-control" rows='4' cols="50">
                    </textarea>
        </div>
        <div class="form-group">
          <label for="totalWork">How many hours can you spend for party work in a week?</label>
          <input type="text" class="form-control" id="totalWork" name="totalWork">
        </div>
        <div class="form-group">
          <label for="weekday">Time of Availability in Weekdays</label>
          <input type="text" class="form-control" id="weekday" name="weekday">
        </div>
        <div class="form-group">
          <label for="weektime">Timing of Availability during weekdays</label>
          <input type="text" class="form-control" id="weektime" name="weektime">
        </div>
        <div class="form-group">
          <label for="weekend">Time of Availability in Weekend</label>
          <input type="text" class="form-control" id="weekend" name="weekend">
        </div>
        <div class="form-group">
          <label for="weektimeend">Timing of Availability during weekend</label>
          <input type="text" class="form-control" id="weektimeend" name="weektimeend">
        </div>
        <div class="form-group">
          <label for="lastmonth">Time of Availability in the last 1 month of Campaign</label>
          <input type="text" class="form-control" id="lastmonth" name="lastmonth">
        </div>
        <div class="form-group">
          <label for="timemonth">Timing of Availability during last month</label>
          <input type="text" class="form-control" id="timemonth" name="timemonth">
        </div>
        <div class="form-group">
          <label for="totalvoter">How many voters they are in direct contact with Contact Numbers.</label>
          <input type="text" class="form-control" id="totalvoter" name="totalvoter">
        </div>
        <div class="form-group">
          <label for="campaign">Mode of Campaign :</label>
          <select class="form-control" id="campaign" name="campaign">
            <option value="car">Car</option>
            <option value="bike">Bike</option>
            <option value="Other">Other</option>
          </select>
        </div>
        <div class="form-group">
          <label for="vehicleNo">Vehicle Number :</label>
          <input type="text" class="form-control" id="vehicleNo" name="vehicleNo">
        </div>
        <div class="form-group">
          <label for="influencers">Number of local influencers identified in the booth :</label>
          <input type="text" class="form-control" id="influencers" name="influencers">
        </div>

        <div class="form-group">
          <label for="verified_by">Verified By</label>
          <select class="form-control" id="verified_by" name="verified_by" required>
            <option value="">--None--</option>
            <option value="Harish">Harish</option>
            <option value="Akkamma">Akkamma</option>
            <option value="Sayed">Sayed</option>
            <option value="Venkatesh">Venkatesh</option>
            <option value="Sushanti">Sushanti</option>
            <option value="Srinivas">Srinivas</option>
            <option value="Deepu">Deepu</option>
            <option value="Sanchita">Sanchita</option>
          </select>
        </div>

        <div class="form-group">
          <label for="remark">Remark</label>
          <input type="text" class="form-control" id="remark" name="remark">
        </div>

        <div class="form-group">
          <label for="verification_status">Verification Status</label>
          <select class="form-control" id="verification_status" name="verification_status" required>
            <option value="">--None--</option>
            <option value="Verified">Verified</option>
            <option value="In Progress">In Progress</option>
            <option value="Invalid">Invalid</option>
          </select>
        </div>

        <div class="form-group">
          <label for="remark">User ID</label>
          <input type="text" class="form-control" id="user_id" name="user_id" readonly>
        </div>

        <input type="hidden" id="_id" name="_id" value="" />

        <button type="submit" id="submit-btn" class="btn btn-primary mb-2">Submit</button>
        </form>
      </div>

    </div>
  </div>

  </div>
  <style>
    body {
      background-repeat: no-repeat !important;
    }

    label {
      font-family: "Raleway", sans-serif;
      font-size: 11pt;
      padding-top: 10px;
    }

    #card {
      background: #fbfbfb;
      border-radius: 8px;
      box-shadow: 1px 2px 8px rgba(0, 0, 0, 0.65);
      height: auto;
      margin: 6rem auto 8.1rem auto;
      width: 600px;
    }

    @media (max-width: 480px) {
      #card {
        width: auto;
      }
    }

    @media (max-width: 768px) {
      #card {
        width: auto;
      }
    }

    #card {
      padding: 12px 44px;
    }

    #card-title {
      font-family: "Raleway Thin", sans-serif;
      letter-spacing: 4px;
      padding-bottom: 23px;
      padding-top: 13px;
      text-align: center;
    }

    #signup {
      color: #2dbd6e;
      font-family: "Raleway", sans-serif;
      font-size: 10pt;
      margin-top: 16px;
      text-align: center;
    }

    #submit-btn {
      background: -webkit-linear-gradient(right, #a6f77b, #2dbd6e);
      border: none;
      border-radius: 21px;
      box-shadow: 0px 1px 8px #24c64f;
      cursor: pointer;
      color: white;
      font-family: "Raleway SemiBold", sans-serif;
      height: 42.3px;
      margin: 0 auto;
      margin-top: 50px;
      transition: 0.25s;
      width: 153px;
    }

    #submit-btn:hover {
      box-shadow: 0px 1px 18px #24c64f;
    }

    .form {
      align-items: left;
      display: flex;
      flex-direction: column;
    }

    .form-border {
      background: -webkit-linear-gradient(right, #a6f77b, #2ec06f);
      height: 1px;
      width: 100%;
    }

    .form-content {
      background: #fbfbfb;
      border: none;
      outline: none;
      padding-top: 14px;
    }

    .underline-title {
      background: -webkit-linear-gradient(right, #a6f77b, #2ec06f);
      height: 2px;
      margin: -0.1rem auto 0 auto;
      width: 95px;
    }
  </style>
  <script>
    var wardRel = {
        "W11": ["B4", "B5", "B6", "B7", "B8", "B9", "B10", "B11", "B12", "B15", "B17"],
        "W32": ["B216", "B217", "B218", "B219", "B220", "B222", "B223", "B225", "B238", "B239", "B240", "B245"],
        "W34": ["B255", "B256", "B257", "B258", "B259", "B260", "B261", "B262", "B263", "B264", "B265", "B266"],
        "W33": ["B243", "B244", "B245", "B246", "B247", "B248", "B249", "B250", "B251", "B252", "B253","B254"],
        "W31": ["B227", "B228", "B229", "B230", "B231", "B232", "B233", "B234", "B235", "B236", "B237"],
        "W15": ["B68", "B74", "B70", "B77", "B78", "B164", "B170", "B171", "B172", "B173"],
        "W10": ["B54", "B55", "B56", "B57", "B58", "B59", "B60", "B61", "B62", "B63", "B64","B65", "B66"],
        "W25": ["B144", "B145", "B194", "B195", "B196", "B197", "B199", "B200"],
        "W13": ["B13", "B14", "B16", "B18", "B20", "B21", "B22", "B23", "B24", "B76", "B46", "B43","B15"],
        "W17": ["B165", "B162", "B158", "B167", "B163", "B87", "B160", "B166", "B161"]
        "W18": ["B71", "B72", "B73", "B75"]
      };
    function addbooths() {
      
      var wardid = document.forms['bvform']['ward'].value;
      var booth = document.forms['bvform']['booth'];
      booth.innerHTML = `<option value="">--None--</option>`;
      for (var i = 0; i < wardRel[wardid].length; i++) {
        booth.innerHTML += `<option value="${wardRel[wardid][i]}">${wardRel[wardid][i]}</option>`;
      }
    }

    function genUserID() {
      if (!document.forms['bvform']['_id'].value) {
        var request = new XMLHttpRequest();
        request.open('GET', '/getVerificatioListData', false); // `false` makes the request synchronous
        request.send(null);
        if (request.status === 200) {
          verData = JSON.parse(request.response);
          wardid = document.forms['bvform']['ward'].value;
          boothid = document.forms['bvform']['booth'].value;
          functionName = document.forms['bvform']['function'].value;
          funcobj = {
            "Booth Adhyaksh": "1",
            "General Secretary": "2",
            "Booth Agent": "3",
            "BLA-2": "4",
            "Mahila Member": "5",
            "SC": "6",
            "ST": "7",
            "OBC": "8",
            "Committee member": "9"
          }
          var verlength = verData.length+1;
          if(functionName)
          document.forms['bvform']['user_id'].value = wardid + "_" + boothid + "_" + funcobj[functionName] + "_" + verlength;
          else document.forms['bvform']['user_id'].value = '';
        }
      }
    }
  </script>
</body>

</html>
